# streamlit-exmaple
ポケモン進化ツリー表示アプリ  
このアプリは、ポケモン名または図鑑番号を入力することで、そのポケモンの進化ツリー、技一覧、別フォルムなどを表示します。PokéAPI を活用し、APIキー不要で動作します。

## 使用技術・API

- Python 3.13
- Streamlit
- PokéAPI（https://pokeapi.co/）※APIキー不要

## 使い方

1. ポケモン名(日本語・英語)または図鑑番号を入力  
2. 「検索」ボタンを押す  
3. 以下の情報が表示されます：  
   - 進化ツリー  
   - 技一覧（レベルアップ技）  
   - 別フォルム（例：メガシンカ、リージョンフォーム）

## ファイル構成

- `simple_app.py`：Streamlit によるUI表示とユーザー入力処理  
- `logic.py`：API呼び出し、データ整形、進化ツリー構築などのロジック  
- `data/`：日本語訳やマッピング用のJSONファイル群

## generate_app.py の役割

このスクリプトは、アプリの初期構築やデータ準備を行う補助ツールです。主な機能は以下の通りです：

- PokéAPI から必要なデータを取得し、ローカルに保存（キャッシュ生成）  
- 日本語訳やマッピングファイルの整形  
- Streamlit アプリの起動に必要な構成ファイルの準備  

このファイルは直接ユーザーが操作するものではなく、開発者が初期セットアップやデータ更新時に使用します。

---

## 🧩 システム構成図

このアプリは、以下の3層構造で設計されています：

### 1. ☁️ 外部サービス層
- **PokéAPI**：ポケモン、技、進化チェーンなどの公式データを取得します（APIキー不要）

### 2. 🧠 バックエンド処理層
- **データ取得**：非同期でPokéAPIから情報を取得  
- **翻訳処理**：英語→日本語のマッピング（技名、アイテム名など）  
- **進化ツリー構築**：進化条件やフォルム情報を整形  
- **キャッシュ保存**：JSON/CSV形式でローカル保存し、アプリ起動時に高速読み込み  

### 3. 🎨 フロントエンド層（Streamlit）
- **検索フォーム**：ポケモン名または図鑑番号を入力  
- **進化ツリー表示**：フォルム・進化条件付きで視覚的に表示  
- **技一覧表示**：レベルアップ技をバージョン別に表示  
- **別フォルム表示**：メガシンカやリージョンフォームなどを画像付きで表示  

---

### 📊 システム構成図（画像）

以下の図は、アプリの各処理がどのように連携しているかを示しています。  
外部APIから取得したデータは、バックエンドで整形・翻訳され、Streamlit UIで表示されます。

![システム構成図](streamlit/system_diagram.png)

## 📊 コード構成図（ファイル連携の流れ）

以下の図は、アプリ内の各ファイルがどのように連携しているかを示したコード構成図です。  
ユーザー入力 → ロジック処理 → データ取得・整形 → 表示 という流れが視覚的に整理されています。

![コード構成図](streamlit/code.png)

---

### 🧩 🧩 ファイル別の機能と連携関係

#### 🎨 `simple_app.py`（フロントエンド / UI）
- ユーザー入力を受け取り、Streamlitで画面表示  
- `logic.py` に処理を依頼し、結果を表示

#### 📦 `logic.py`（バックエンド処理 / ロジック）
- キャッシュデータを読み込み  
- 進化ツリーや技一覧を構築  
- 日本語に翻訳し、整形して返却

#### 🐍 `generate_app.py`（バッチ処理 / データ取得）
- PokéAPIからデータを取得  
- 日本語訳を整形し、`data/` に保存（JSON/CSV）

#### 📂 `data/`（キャッシュフォルダ）
- `types.ja.json`：タイプ情報  
- `moves.ja.json`：技情報  
- `versions.ja.json`：バージョン情報

---





